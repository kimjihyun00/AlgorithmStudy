# ê°€ì¥ ë§ì´ ë°›ì€ ì„ ë¬¼

https://school.programmers.co.kr/learn/courses/30/lessons/258712

---

### **ğŸ”Â ê·œì¹™ ì°¾ê¸°**

ì„ ë¬¼ ì£¼ê¸° ê·œì¹™

- ê¸°ë¡O
    - ë‘ ì‚¬ëŒ ì‚¬ì´ì— ë” ë§ì€ ì„ ë¬¼ì„ ì¤€ ì‚¬ëŒì´ ë‹¤ìŒë‹¬ì— ì„ ë¬¼ +1
- ê¸°ë¡X, ì£¼ê³ ë°›ì€ ì„ ë¬¼ìˆ˜ =
    - ì„ ë¬¼ ì§€ìˆ˜ê°€ ë” í° ì‚¬ëŒ â† ì„ ë¬¼ ì§€ìˆ˜ê°€ ë” ì‘ì€ ì‚¬ëŒì—ê²Œ ì„ ë¬¼
    - **ë§Œì•½ ë‘ ì‚¬ëŒì˜ ì„ ë¬¼ ì§€ìˆ˜ë„ ê°™ë‹¤ë©´ ë‹¤ìŒ ë‹¬ì— ì„ ë¬¼ì„ ì£¼ê³ ë°›ì§€ ì•ŠìŒ**

1. ê°ê°ì´ ë‹¤ìŒë‹¬ ë°›ëŠ” ì„ ë¬¼ ìˆ˜ êµ¬í•˜ê¸°
2. ë‹¤ìŒë‹¬ì— ê°€ì¥ ë§ì€ ì„ ë¬¼ì„ ë°›ëŠ” ì¹œêµ¬ê°€ ë°›ì„ ì„ ë¬¼ì˜ ìˆ˜

### **ğŸš€Â í’€ì´1 :**

```jsx
function solution(friends, gifts) {
    var answer = 0;
    
    const friendsCount = friends.length;
    const nextMonth = new Array(friendsCount).fill(0);
    
    // íˆìŠ¤í† ë¦¬ ì´ˆê¸°í™”
    let giftHistory = {};
    friends.forEach(friend =>  giftHistory[friend] = {
        "receiver": {},
        "give": 0,
        "receive": 0,
        "quotient": 0,
    });
    
    // ì„ ë¬¼ ë‚´ì—­ ë§µí•‘
    // { giver : { "receiver" : {}, "give": 0, "receive": 0 , "quotient": 0}} 
    gifts.forEach( gift => {
        const [giver, receiver] = gift.split(' ');
        giftHistory[giver].give++;
        giftHistory[receiver].receive++;
        
        giftHistory[giver].receiver[receiver] = 
            (giftHistory[giver].receiver[receiver] || 0) + 1;
    })
    
    // ì„ ë¬¼ì§€ìˆ˜ ê³„ì‚°í•˜ê¸°
    friends.map(friend => {
        const giveCount = giftHistory[friend].give;
        const receiveCount = giftHistory[friend].receive;
        giftHistory[friend].quotient = giveCount - receiveCount;
    });
    
    // ë‹¤ìŒë‹¬ ì„ ë¬¼ ì˜ˆìƒí•˜ê¸°
    for(let i = 0; i < friendsCount; i++) {
        const friendA = friends[i];
        
        for(let j = i+1; j <friendsCount; j++) {
            const friendB = friends[j];
            
            const aToB = giftHistory[friendA].receiver[friendB] || 0;
            const bToA = giftHistory[friendB].receiver[friendA] || 0;
            
            if(aToB > bToA) { // a <- b
                nextMonth[i]++;
                
            } else if(aToB < bToA) { // a -> b
                nextMonth[j]++;
                
            } else {
                // ê°™ê±°ë‚˜ ê¸°ë¡ì´ ì—†ì„ ê²½ìš° ì„ ë¬¼ ì§€ìˆ˜ ë¹„êµ
                const aQuotient = giftHistory[friendA].quotient;
                const bQuotient = giftHistory[friendB].quotient;
                if(aQuotient > bQuotient) { // a <- b
                    nextMonth[i]++;
                } else if(aQuotient < bQuotient) { // a -> b
                    nextMonth[j]++;
                }
            }
        }
    }
    
    answer = Math.max(...nextMonth);
    return answer;
}

```

- `map`ì„ `forEach`ë¡œ ë°”ê¾¸ëŠ” ê²Œ ë” ì ì ˆí•¨

### **ğŸ’¡Â ì¸ìƒê¹Šì—ˆë˜ í’€ì´**

```jsx
function solution(friends, gifts) {
    const n = friends.length;
    const giftIndex = {};
    friends.forEach((name, idx) => giftIndex[name] = idx);

    const giftCounts = Array.from({ length: n }, () => Array(n).fill(0));
    const giveCounts = new Array(n).fill(0);
    const getCounts = new Array(n).fill(0);
    const nextMonth = new Array(n).fill(0);

    // 1. ì„ ë¬¼ ë‚´ì—­ ì €ì¥
    gifts.forEach(gift => {
        const [giver, receiver] = gift.split(' ');
        const giverIdx = giftIndex[giver];
        const receiverIdx = giftIndex[receiver];

        giftCounts[giverIdx][receiverIdx]++;
        giveCounts[giverIdx]++;
        getCounts[receiverIdx]++;
    });

    // 2. ì„ ë¬¼ ì§€ìˆ˜ ê³„ì‚°
    const giftQuotients = giveCounts.map((give, idx) => give - getCounts[idx]);

    // 3. ì¹œêµ¬ ìŒë§ˆë‹¤ ì„ ë¬¼ ë¹„êµ
    for (let i = 0; i < n; i++) {
        for (let j = i + 1; j < n; j++) {
            const aToB = giftCounts[i][j];
            const bToA = giftCounts[j][i];

            if (aToB > bToA) {
                nextMonth[i]++;
            } else if (aToB < bToA) {
                nextMonth[j]++;
            } else {
                if (giftQuotients[i] > giftQuotients[j]) {
                    nextMonth[i]++;
                } else if (giftQuotients[i] < giftQuotients[j]) {
                    nextMonth[j]++;
                }
                // ê°™ìœ¼ë©´ ì•„ë¬´ ì¼ë„ ì—†ìŒ!
            }
        }
    }

    return Math.max(...nextMonth);
}

```

- ì¸ë±ìŠ¤ ê¸°ë°˜ ì ‘ê·¼ìœ¼ë¡œ ìµœì í™”
- 2ì°¨ì› ë°°ì—´(giftCounts)í™œìš©
- 2ì°¨ì› ë°°ì—´ë¡œ ë°ì´í„° ì ‘ê·¼ ì†ë„ë¥¼ ìµœì í™”

---

### **âœ…Â íšŒê³ **

- ì¸ë±ìŠ¤ ê¸°ë°˜ ì ‘ê·¼ 2ì°¨ì› ë°°ì—´ë¡œ ë°ì´í„° ì ‘ê·¼ ì†ë„ë¥¼ ìµœì í™”í•  ìˆ˜ ìˆìŒ
- í•´ì‹œ ë§µ ì¡°íšŒ ì—°ì‚°ë³´ë‹¤ ì¸ë±ìŠ¤ ì¡°íšŒê°€ ë” ë¹ ë¦„
- ë°°ì—´ ê¸°ë°˜ ì ‘ê·¼ ë°©ì‹ì´ ê°ì²´ ê¸°ë°˜ë³´ë‹¤ ìºì‹œ íš¨ìœ¨ì„±ì´ ë†’ì•„ ì„±ëŠ¥ì´ ë” ì¢‹ìŒ.